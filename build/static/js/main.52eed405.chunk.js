(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports=n.p+"static/media/title-logo.faa7c5e5.svg"},137:function(e,t,n){e.exports=n.p+"static/media/homeimage.69a3ae55.jpg"},138:function(e,t,n){e.exports=n.p+"static/media/totoro-white-background.a6a7990b.jpg"},139:function(e,t,n){e.exports=n.p+"static/media/totoro-run.285ea0db.gif"},143:function(e,t,n){e.exports=n.p+"static/media/totorologo.a04e0472.svg"},148:function(e,t,n){e.exports=n(333)},157:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(23),l=n(17),r=n(34),c=n.n(r),s=(n(157),n(354)),u=n(357),d=n(355),m=n(361),f=n(359),p=n(358),g=(n(9),n(136)),h=n.n(g),E=n(25),b=n(137),I=n.n(b),x=Object(s.a)(function(e){return{homecontainer:{padding:"0 0 0 0",margin:"0",width:"100%",height:"800px",maxWidth:"none",maxHeight:"none",backgroundImage:"url(".concat(I.a,")"),backgroundSize:"cover"}}}),y=function(e){var t=x();return i.a.createElement(d.a,{className:t.homecontainer})},w=n(138),F=n.n(w),v=n(139),O=n.n(v),_=n(57),N=n(356),S=(n(159),Object(s.a)(function(e){return{gridroot:{backgroundColor:"white",borderRadius:"5px",boxShadow:e.shadows[15],padding:"16px 8px"},card:{boxShadow:e.shadows[5],"& div":{height:"100%",padding:"0","& h5":{textAlign:"center",width:"100%",height:"20%"},"& p":{height:"80%",overflowY:"scroll"}},height:"200px"},cardcontent:{textAlign:"center"},cardtitle:{backgroundImage:"linear-gradient(120deg, #fbc2eb 0%, #a6c1ee 100%)"}}})),k=function(e){Object(a.useEffect)(function(){e.onSendRequest()},[]);var t=S(),n=Object(a.useState)(!0),o=Object(_.a)(n,2);o[0],o[1];return i.a.createElement(N.a,{container:!0,spacing:3,className:t.gridroot,justify:"center"},console.log(e),e.filmsinfo.length>0&&e.filmsinfo.map(function(e){var t=e.imgs.titleshowurl;console.log(t),console.log("url",t);var n=new XMLHttpRequest,a=new FileReader,o=document.createElement("img");return o.style.width="100%",o.style.height="400px",o.style.cursor="pointer",e.id,n.open("GET",t,!0),n.responseType="blob",n.onloadend=function(){console.log("this",this),200===this.status&&a.readAsDataURL(this.response)},a.onloadend=function(){o.src=this.result,document.getElementById("".concat(e.id)).appendChild(o)},n.send(),i.a.createElement(N.a,{key:"".concat(e.id),item:!0,xs:6,sm:4,md:3,style:{overflow:"hidden"}},i.a.createElement(l.b,{to:"filmdetail?id=".concat(e.id),id:"".concat(e.id)}))}))},j={type:"FILMSINFO_FETCHING"},R=function(e){return{type:"FILMSINFO_FETCHED",payload:e}},C={type:"FILMSINFO_FAILED"},L=Object(o.b)(function(e){return console.log(e),{filmsinfo:e.filmsInfoReducer.filmsInfo.data||[]}},function(e,t){return{onSendRequest:function(){e(j);var t=new XMLHttpRequest;t.open("GET","https://www.easy-mock.com/mock/5d0edce1e515aa4c2cc4adc6/ghibli/films",!0),t.onloadend=function(){console.log(this),200===this.status?e(R(JSON.parse(this.response))):e(C)},t.send()}}})(k),T=function(){var e=Object(u.a)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{style:{marginTop:"0px",backgroundImage:"url(".concat(F.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"600px",maxWidth:"none"}},"   ",i.a.createElement("img",{src:O.a,className:"imgrun"})),i.a.createElement(d.a,{style:{top:"-80px",zIndex:e.zIndex.mobileStepper,position:"relative"}},i.a.createElement(L,null)))},D=n(141),M=n.n(D),A=n(142),B=function(e){return console.log(e),fetch(e).then(function(e){return 200===e.status?e.blob():null}).then(function(e){return null!=e?URL.createObjectURL(e):null})},H={setCurrentFilmID:function(e){return{type:"SET_CURRENT_FILM",payload:e}},fetchCurrentFilmDetailInfo:function(e){return function(t){return fetch(e).then(function(e){if(200===e.status)return e.json()}).then(function(e){console.log(e),t({type:"SET_CURRENT_FILM_DETAIL_INFO",payload:e})})}},setDetailImags:function(e){return function(e,t){var n=t().currentFilmReducer.detailinfo.data.result.imgs.detailimgs;console.log(n),n.map(function(t){B(t).then(function(t){null!=t&&e({type:"SET_DETAIL_IMAGS",payload:t})})})}}},U=Object(s.a)(function(e){return{rootContainer:{padding:"0",margin:"0",width:"100%",maxWidth:"none",maxHeight:"none"},detailimg:{width:"100%"},title:{position:"absolute",marginTop:"100px",zIndex:1100,backgroundColor:"#27210e",color:"white",height:"32px",lineHeight:"32px"}}}),G=Object(A.autoPlay)(M.a),z=Object(o.b)(function(e){return{detailinfo:Object.keys(e.currentFilmReducer.detailinfo).length>0?e.currentFilmReducer.detailinfo.data.result:null,detailimgs:e.currentFilmReducer.detailimgs}},function(e){return{fetchCurrentFilmDetailInfo:function(t){return e(H.fetchCurrentFilmDetailInfo(t))},setCurrentFilmID:function(t){e(H.setCurrentFilmID(t))},setDetailImags:function(){e(H.setDetailImags())}}})(function(e){Object(a.useEffect)(function(){var t=window.location.search,n=new URLSearchParams(t),a=Number(n.get("id"));e.setCurrentFilmID(a);var i="https://www.easy-mock.com/mock/5d0edce1e515aa4c2cc4adc6/ghibli/filmitem?id=".concat(a);e.fetchCurrentFilmDetailInfo(i).then(function(){e.setDetailImags()})},[new URLSearchParams(window.location.search).get("id")]);var t=U();return i.a.createElement(d.a,{className:t.rootContainer},e.detailinfo&&i.a.createElement(p.a,{className:t.title},e.detailinfo.title),i.a.createElement(d.a,{className:t.rootContainer},e.detailimgs.length>0&&i.a.createElement(G,null,e.detailimgs.map(function(e,n){return i.a.createElement("img",{key:n,src:e,className:t.detailimg})}))),i.a.createElement(d.a,null,e.detailinfo&&i.a.createElement(N.a,{container:!0},i.a.createElement(N.a,{item:!0,lg:3,md:3,sm:3},"1"),i.a.createElement(N.a,{item:!0,lg:9,md:9,sm:9},i.a.createElement(p.a,null,i.a.createElement("label",null,"\u7247\u540d\uff1a"),e.detailinfo.title),i.a.createElement(p.a,null,i.a.createElement("label",null,"\u5bfc\u6f14\uff1a"),e.detailinfo.director),i.a.createElement(p.a,null,i.a.createElement("label",null,"\u51fa\u54c1\u65e5\u671f\uff1a"),e.detailinfo.release_date),i.a.createElement(p.a,null,i.a.createElement("label",null,"\u7b80\u4ecb\uff1a"),i.a.createElement("br",null),e.detailinfo.description.map(function(e){return i.a.createElement(p.a,null,e)}))))))}),W=function(){return i.a.createElement(E.c,null,i.a.createElement(E.a,{exact:!0,path:"/",component:y}),i.a.createElement(E.a,{exact:!0,path:"/home",component:y}),i.a.createElement(E.a,{exact:!0,path:"/films",component:T}),i.a.createElement(E.a,{exact:!0,path:"/filmdetail",component:z}),i.a.createElement(E.a,{exact:!0,path:"/films/:id",component:z}))},q=n(360),P={setFilmsBriefInfo:function(e){return{type:"GET_FILMS_BRIEF_INFO_ACTIONS",payload:e}},fetchFilmsBriefInfo:function(e){return function(t,n){fetch(e).then(function(e){return e.json()}).then(function(e){console.log(e.data.result),t({type:"GET_FILMS_BRIEF_INFO_ACTIONS",payload:e.data.result})})}}},X=n(143),J=n.n(X),V=Object(s.a)(function(e){return{totorologo:{width:"64px",height:"64px",cursor:"pointer"},titlelogo:{height:"64px"},briefInfo:{background:"rgba(255,255,255,0.5)",padding:"5px 0 0 10px"},linediv:{height:30,borderLeft:"solid",marginLeft:20,margin:"2px"},orderdiv:{width:"40px",height:"40px",borderRadius:"50px",backgroundColor:"#03a9f4",lineHeight:"40px"}}}),Y=Object(o.b)(function(e){return{filmsbriefinfo:e.filmsBriefInfoReducer?e.filmsBriefInfoReducer:[]}},function(e){return{fetchFilmsBriefInfo:function(t){e(P.fetchFilmsBriefInfo(t))}}})(function(e){Object(a.useEffect)(function(){e.fetchFilmsBriefInfo("https://www.easy-mock.com/mock/5d0edce1e515aa4c2cc4adc6/ghibli/films/briefinfos")},[]);var t=i.a.useState(!1),n=Object(_.a)(t,2),o=n[0],r=n[1];function c(){r(function(e){return!e})}var s=V();return i.a.createElement("div",{style:{display:"inline-block",position:"absolute"}},i.a.createElement("img",{src:J.a,className:s.totorologo,onClick:c}),i.a.createElement("div",{style:{height:600,overflow:"auto"}},i.a.createElement(q.a,{className:s.briefInfo,in:o,onMouseLeave:c},e.filmsbriefinfo.map(function(t,n){return n<e.filmsbriefinfo.length-1?i.a.createElement("div",{key:t.id},i.a.createElement(l.b,{to:"filmdetail?id=".concat(t.id),style:{textDecoration:"none",cursor:"pointer"}},i.a.createElement("div",{style:{width:"260px"}},i.a.createElement("span",{style:{display:"flex",alignItems:"center"}},i.a.createElement("span",{style:{display:"flex"}},i.a.createElement("div",{className:s.orderdiv},t.time)),i.a.createElement("span",{style:{display:"flex",width:"100%",fontSize:"18px",marginLeft:"5px",color:"black"}},t.title)))),i.a.createElement("div",{className:s.linediv})):i.a.createElement("div",{key:t.id},i.a.createElement(l.b,{to:"filmdetail?id=".concat(t.id),style:{textDecoration:"none",cursor:"pointer"}},i.a.createElement("div",{style:{width:"260px"}},i.a.createElement("span",{style:{display:"flex",alignItems:"center"}},i.a.createElement("span",{style:{display:"flex"}},i.a.createElement("div",{className:s.orderdiv},t.time)),i.a.createElement("span",{style:{display:"flex",width:"100%",fontSize:"18px",marginLeft:"5px",color:"black"}},t.title)))))}))))}),K=Object(s.a)(function(e){return{appbar:{zIndex:0,backgroundColor:"transparent",boxShadow:"0 0 0 0"},appbarscroll:{backgroundColor:"#4dd0e1"},mainContainer:{padding:"0",margin:"0",width:"100%",maxWidth:"none",maxHeight:"none"},totorologo:{width:"64px",height:"64px",cursor:"pointer"},title:{color:"#bdbdbd",position:"relative",left:"50%",top:"50%",display:"inline-block",transform:"translate(-50%, -50%)"},dynamicimg:{width:e.spacing(8),height:e.spacing(8)},titlelogo:{height:"64px",marginLeft:64},routelink:{width:e.spacing(8),height:e.spacing(8),display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"none",color:"black",fontFamily:"weight"},briefInfo:{background:"rgba(255,255,255,0.5)",padding:"5px 0 0 10px",height:600,overflow:"auto",position:"absolute"}}}),Q=function(e){Object(u.a)();var t=K();return i.a.createElement(d.a,{style:{margin:0,padding:0,maxWidth:"none"}},i.a.createElement(m.a,{className:t.appbarscroll,color:"default"},i.a.createElement(f.a,null,i.a.createElement(d.a,{style:{display:"flex"}},i.a.createElement(Y,null),i.a.createElement("img",{src:h.a,className:t.titlelogo}),i.a.createElement(l.b,{to:"/home",className:t.routelink},i.a.createElement(p.a,null,"Home")),i.a.createElement(l.b,{to:"/films",className:t.routelink},i.a.createElement(p.a,null,"Films"))))),i.a.createElement(d.a,{className:t.mainContainer},i.a.createElement(W,null)))},Z=n(24),$=n(59),ee={fetching:!1,fetched:!1,fetcherror:null,filmsInfo:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILMSINFO_FETCHING":return console.log("feteching"),Object($.a)({},e,{fetching:!0});case"FILMSINFO_FETCHED":return console.log("fetched"),Object($.a)({},e,{fetched:!0,filmsInfo:t.payload});case"FILMSINFO_FAILED":return Object($.a)({},e,{fetcherror:!0});default:return e}},ne=n(36),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FILMS_BRIEF_INFO_ACTIONS":return Object(ne.a)(e,function(e){e.length=0,t.payload.map(function(t){return e.push(t)})});default:return e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,detailinfo:{},detailimgs:[],titleshowimgs:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_FILM":return Object(ne.a)(e,function(e){e.id=t.payload,e.detailimgs.length=0});case"SET_CURRENT_FILM_DETAIL_INFO":return Object(ne.a)(e,function(e){console.log(t.payload),e.detailinfo=t.payload});case"SET_DETAIL_IMAGS":return Object(ne.a)(e,function(e){e.detailimgs.push(t.payload)});default:return e}},oe=Object(Z.c)({filmsInfoReducer:te,filmsBriefInfoReducer:ae,currentFilmReducer:ie}),le=n(144),re=Object(Z.a)(le.a),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,se=Object(Z.e)(oe,ce(re));c.a.render(i.a.createElement(function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{store:se},i.a.createElement(l.a,null,i.a.createElement(Q,null))))},null),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.52eed405.chunk.js.map